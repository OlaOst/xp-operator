apiVersion: enonic.cloud/v1alpha2
kind: Xp7Deployment
metadata:
  name: mycloud-mysolution-myenv-myservice
  namespace: mycloud-mysolution-myenv-myservice
  labels:
    cloud: mycloud
    solution: mysolution
    environment: myenv
    service: myservice
spec:
  enabled: true
  xpVersion: 7.6.0

#  nodesPreinstalledApps:
#    - name: snapshotter
#      url: https://repo.enonic.com/public/com/enonic/app/snapshotter/3.0.2/snapshotter-3.0.2.jar

  nodesSharedDisks:
    - name: blobstore
      size: 100Mi
    - name: snapshots
      size: 100Mi

  nodeGroups:
    - name: main
      data: true
      master: true
      replicas: 3
      env:
        - name: ASD
          value: asdasdadsa2aaa1aaasdasdasd
      resources:
        cpu: "1"
        memory: 1Gi
        disks:
          - name: deploy
            size: 100Mi
          - name: export
            size: 100Mi
          - name: index
            size: 100Mi
          - name: work
            size: 100Mi
#    - name: data
#      data: true
#      master: false
#      replicas: 1
#      env:
#        - name: WTF
#          value: adasdasd
#      resources:
#        cpu: "0.5"
#        memory: 1Gi
#        disks:
#          - name: deploy
#            size: 100Mi
#          - name: export
#            size: 100Mi
#          - name: index
#            size: 100Mi
#          - name: work
#            size: 100Mi
#    - name: frontend
#      data: false
#      master: false
#      replicas: 1
#      env:
#        - name: WTF
#          value: adasdasdasdasd
#      resources:
#        cpu: "0.5"
#        memory: 1Gi
#        disks:
#          - name: deploy
#            size: 100Mi
#          - name: export
#            size: 100Mi
#          - name: index
#            size: 100Mi
#          - name: work
#            size: 100Mi

#    - name: front
#      data: false
#      master: false
#      replicas: 2
#      env:
#        - name: ASD
#          value: asdasdadsa2aaa1aaasdasd
#      resources:
#        cpu: "0.5"
#        memory: 1024Mi
#        disks:
#          - name: deploy
#            size: 100Mi
#          - name: export
#            size: 100Mi
#          - name: index
#            size: 100Mi
#          - name: work
#            size: 100Mi
#    - name: data
#      data: true
#      master: false
#      replicas: 1
#      resources:
#        cpu: "1"
#        memory: 512Mi
#        disks:
#          - name: deploy
#            size: 100Mi
#          - name: export
#            size: 100Mi
#          - name: index
#            size: 100Mi
#          - name: work
#            size: 100Mi