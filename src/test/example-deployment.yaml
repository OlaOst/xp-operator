apiVersion: v1
kind: Namespace
metadata:
  name: mycloud-mysolution-myenv-myservice
  annotations:
    enonic.cloud/remove.with.xp7deployment: mycloud-mysolution-myenv-myservice
---
apiVersion: enonic.cloud/v1alpha2
kind: Xp7Deployment
metadata:
  name: mycloud-mysolution-myenv-myservice
  namespace: mycloud-mysolution-myenv-myservice
  labels:
    cloud: mycloud
    solution: mysolution
    environment: myenv
    service: myservice
spec:
  enabled: true
  xpVersion: 7.2.0

  nodesSharedDisks:
    blobstore: 100Mi
    snapshots: 100Mi

  nodeGroups:
    main:
      data: true
      master: true
      replicas: 3
      env:
        test: test1
      resources:
        cpu: "1"
        memory: 512Mi
        disks:
          deploy: 100Mi
          export: 100Mi
          index: 100Mi
          work: 100Mi
#    front:
#      data: false
#      master: false
#      replicas: 2
#      env:
#        test: test2
#      resources:
#        cpu: "1"
#        memory: 512Mi
#        disks:
#          export: 100Mi
#          index: 100Mi
#          work: 100Mi
#    ost:
#      data: true
#      master: true
#      replicas: 2
#      env:
#        test: test1311
#      resources:
#        cpu: "1"
#        memory: 512Mi
#        disks:
#          export: 100Mi
#          index: 100Mi
#          work: 100Mi