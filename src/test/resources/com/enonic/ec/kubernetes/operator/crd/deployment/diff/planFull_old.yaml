spec:
  xpVersion: 7.0.3
  enabled: true

  nodesSharedDisk: 1Gi

  nodes:
    xp:
      displayName: xp
      replicas: 1
      type: ["MASTER", "DATA", "FRONTEND"]
      resources:
        cpu: "1"
        memory: 1Gi
        disks:
          index: 1Gi
      config:
        com.enonic.xp.app.main.cfg: |
          tourDisabled = true
        com.enonic.xp.web.vhost.cfg: |
          mapping.admin.host = company.com
          mapping.admin.source = /admin
          mapping.admin.target = /admin
          mapping.admin.idProvider.system = default
        system.properties: |-
          xp.suPassword = {sha512}5b722b307fce6c944905d132691d5e4a2214b7fe92b738920eb3fce3a90420a19511c3010a0e7712b054daef5b57bad59ecbd93b3280f210578f547f4aed4d25
          xp.init.adminUserCreation = false
      env:
        JAVA_OPTS: |
          -Dcom.sun.management.jmxremote
          -Dcom.sun.management.jmxremote.port=3000
          -Dcom.sun.management.jmxremote.rmi.port=3001
          -Dcom.sun.management.jmxremote.ssl=false
          -Dcom.sun.management.jmxremote.authenticate=false
          -Djava.rmi.server.hostname=127.0.0.1
          -Xdebug
          -Xnoagent
          -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=*:5005
        XP_APPS: |
          com.enonic.app.snapshotter:2.1.1