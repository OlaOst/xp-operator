apiVersion: enonic.cloud/v1alpha2
kind: Xp7VHost
metadata:
  uid: 54edf212-742d-44f5-9fef-6749da7fd534
  name: test-purplejs-io
  namespace: mycloud-mysolution-myenv-myservice
spec:
  host: test.purplejs.io
  options:
    dnsRecord: true
    cdn: true
  certificate:
    authority: selfSigned
  mappings:
    - nodeGroup: all
      source: /a
      target: /admin
      idProviders:
        default: system
      options:
        ingress: true
        ingressMaxBodySize: "100m"
        statusCake: false
        ipWhitelist: []
        stickySession: false
        sslRedirect: true
    - nodeGroup: frontend
      source: /b
      target: /
      options:
        ingress: true
        ingressMaxBodySize: 8m
        statusCake: true
        caching: true
        ipWhitelist:
          - 1.1.1.1
        stickySession: true
        sslRedirect: false
    - nodeGroup: all
      source: /c
      target: /admin
      options:
        ingress: false
        ingressMaxBodySize: "100m"
        statusCake: false
        ipWhitelist: []
        stickySession: false
        sslRedirect: true
