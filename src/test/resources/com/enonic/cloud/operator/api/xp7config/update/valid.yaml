admissionRequest:
  request:
    operation: UPDATE
    oldObject:
      apiVersion: enonic.cloud/v1alpha2
      kind: Xp7Config
      metadata:
        name: test
        namespace: mycloud-mysolution-myenv-myservice
      spec:
        file: mytest.cfg
        nodeGroup: main
        data: |
          hello
    object:
      apiVersion: enonic.cloud/v1alpha2
      kind: Xp7Config
      metadata:
        name: test
        namespace: mycloud-mysolution-myenv-myservice
      spec:
        file: mytest.cfg
        nodeGroup: main
        data: |
          world

assertPatch:
  - op: add
    path: /status
    value:
      state: PENDING
      message: Not loaded
  - op: add
    path: /spec/dataBase64
    value: false